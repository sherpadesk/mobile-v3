<ion-navbar *navbar>
<ion-buttons start>
    <button menuToggle><ion-icon name="menu"></ion-icon></button>
      </ion-buttons>
  <ion-title>Tickets</ion-title>
   <ion-buttons end>
  <ion-searchbar *ngIf="test" [focuser] (cancel)="test = !test" class="blue1back" style="width:250px; padding: 0" [ngModel]="searchQuery" [hideCancelButton]="true" (input)="getItems($event)"></ion-searchbar>
   </ion-buttons>
   <ion-buttons end>
    <button danger class="right transparent" *ngIf="test" (click)="test = !test"><ion-icon name="ios-close"></ion-icon></button>
    <button danger class="right transparent" *ngIf="!test" (click)="test = !test"><ion-icon name="ios-search"></ion-icon></button>
    </ion-buttons>
</ion-navbar>

<div class="tickets mycontent">
    <div *ngIf="is_tech" class="tabsTicket margin-bottom31">
        <ion-segment  class="position-button" [(ngModel)]="ticket_tab">
<ion-segment-button  value="user">User</ion-segment-button>
<ion-segment-button value="tech">Tech</ion-segment-button>
<ion-segment-button value="alt">Alt</ion-segment-button>
<ion-segment-button value="all">All Open</ion-segment-button>
  </ion-segment>
</div>    
    <tickets-list [hidden]="ticket_tab != 'user'" [preload]="ticket_tab == 'user' ? 0 : 1500" [mode]="['user']" [count]="counts.user"></tickets-list>
    <tickets-list *ngIf="is_tech" [hidden]="ticket_tab != 'tech'" [preload]="ticket_tab == 'tech' ? 0 : 1500" [mode]="['tech']" [count]="counts.tech"></tickets-list>
    <tickets-list  *ngIf="is_tech" [hidden]="ticket_tab != 'alt'" [preload]="ticket_tab == 'alt' ? 0 : 1500" [mode]="['alt']" [count]="counts.alt"></tickets-list>
    <tickets-list  *ngIf="is_tech" [hidden]="ticket_tab != 'all'" [preload]="ticket_tab == 'all' ? 0 : 1500" [mode]="['all']" [count]="counts.all"></tickets-list>
</div>
<button (click)="addTicket()" secondary item-right fab fab-right fab-bottom style="z-index: 2"><ion-icon class="button_circle action-but" name="md-add"></ion-icon></button>