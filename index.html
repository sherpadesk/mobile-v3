<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" /><meta property="og:title" content="SherpaDesk | Track Time and Customer Support Management System"/>  <meta property="og:description" content="SherpaDesk is a help desk solution for all your customer support management needs. Manage tickets, track time, and send invoices easily."/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
    <title>SherpaDesk</title>
    <style>
        .loginLogo {
            width: 80%;
            margin: 40px auto -160px;
            display: block;
            max-width: 390px;
        }
        body {
            background: #34495e;
            background-repeat: no-repeat;
        }
        .Absolute-Center {
            margin: auto;
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
        }
      </style>
      <script type="text/javascript">

var isPhonegap = false;


function getParameterByName(name) {
    var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.href);
    return match && decodeURIComponent(match[1].replace(/\+/g, ' '));
}

function done(isDesktop) {
    if (localStorage.isPhonegap !== "true")
        localStorage.isPhonegap = !!RegExp('[?&]ios_action=').exec(window.location.href);
    var ios_action = getParameterByName('ios_action') || localStorage.getItem('ios_action');
    if (ios_action && ios_action != "undefined"){
        //cleanQuerystring();
        ios_action = ios_action.replace('#', '?');
        localStorage.setItem('ios_action', ios_action);
        console.log("initial ios action: " + ios_action);
    }
    var ticket = getParameterByName('ticket');
    var org = getParameterByName('org');
    if (ticket) {
        localStorage.setItem('loadTicketNumber', ticket || "");
    }
    if (org) {
        localStorage.setItem('loadOrgKey', org);
    }

    window.location.href = "app.html"+(isDesktop ? "?ionicPlatform=ios" : "");
    
    /*if (ios_action && ios_action !== "undefined"){
        localStorage.setItem('ios_action', "");
        window.location = ios_action;
        return;
    }

    ticket = localStorage.loadTicketNumber; 

    if (ticket) {
        localStorage.loadTicketNumber = '';
        localStorage.setItem('ticketNumber', ticket);
        window.location = "ticket_list.html";
        return;
    }
    
    window.location = localStorage.getItem('userRole') === "tech" ? "dashboard.html" : "ticket_list.html";
    */
}

function handleOpenURL(url) {
    localStorage.setItem('ios_action', url.substring(13));
    console.log("initial url: " + url);
}


    //Main Method that calls all the functions for the app
if (navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/))
    window.onload = function () {setTimeout(done, 200);};
else
    done(true);
        </script>
  </head>
    <body class=""><img id=preload class=Absolute-Center src=img/loading2.gif alt="Loading..."><!--
    </body>
</html>